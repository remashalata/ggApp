<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-title class="ion-text-center">
      Profile
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="presentPopover($event)">
        <ion-icon slot="icon-only" name="ellipsis-vertical-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="ion-no-padding">
    <ion-row>
      <ion-col size="12" size-sm="8" size-ms="8" size-xl="6" offset-sm="2" class="ion-no-padding">
        <ion-card class="profile-card">
          <div class="image-div">
            <img class="mat-card-image" src="assets/imgs/about.jpg" alt="Profile" />
          </div>
          <ion-card-content class="ion-text-wrap">
            <form [formGroup]="profileForm" (ngSubmit)="handleForm()" novalidate>
              <div class="mb" *ngIf="isSubmitted && hasError">
                <span style="color: red;">{{message}}</span>
              </div>
              <div class="firstname mb">
                <input type="text" placeholder="Firstname" formControlName="firstname" class="custom" required />
              </div>
              <div class="mb"
                *ngIf="isSubmitted && profileForm.controls['firstname'].errors && profileForm.controls['firstname'].errors['required']">
                <span style="color: red;">Firstname is required.</span>
              </div>
              <div class="lastname mb">
                <input type="text" placeholder="Lastname" formControlName="lastname" class="custom" required>
              </div>
              <div class="mb"
                *ngIf="isSubmitted && profileForm.controls['lastname'].errors && profileForm.controls['lastname'].errors['required']">
                <span style="color: red;">Lastname is required.</span>
              </div>
              <div class="email mb">
                <input type="email" placeholder="Email" formControlName="email" class="custom" required>
              </div>
              <div class="mb"
                *ngIf="isSubmitted && profileForm.controls['email'].errors && profileForm.controls['email'].errors['email']">
                <span style="color: red;">Invalid Email.</span>
              </div>
              <div class="mb"
                *ngIf="isSubmitted && profileForm.controls['email'].errors && profileForm.controls['email'].errors['required']">
                <span style="color: red;">Email is required.</span>
              </div>
              
              <div style="margin-top: 20px;width: 100%;">
                <ion-button shape="round" type="submit"> Update </ion-button>
              </div>
            </form>

          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>